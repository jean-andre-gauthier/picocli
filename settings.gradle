plugins {
    id 'com.gradle.enterprise' version '3.10.3'
    id 'com.gradle.common-custom-user-data-gradle-plugin' version '1.7.2'
}
gradleEnterprise {
    server = 'https://ec2-3-236-229-34.compute-1.amazonaws.com'
    allowUntrustedServer = true
    buildScan {
        publishAlways()
        capture {
            taskInputFiles = true 
        }
        uploadInBackground = System.getenv("CI") == null
    }
}

rootProject.name = 'picocli'
include 'picocli-groovy'
include 'picocli-examples'
include 'picocli-shell-jline2'
include 'picocli-codegen'

if (org.gradle.api.JavaVersion.current().isJava8Compatible()) {
    include 'picocli-annotation-processing-tests'
    include 'picocli-spring-boot-starter'
    include 'picocli-shell-jline3'
} else {
    println("Excluding module picocli-annotation-processing-tests from the build: they require Java 8 but we have Java version ${org.gradle.api.JavaVersion.current()}")
}